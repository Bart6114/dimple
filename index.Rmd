---
title: "dimple plots for R"
output: 
  html_document: 
    theme: flatly
---

# Installation

The ```dimple``` package is currently only available by installing from GitHub.

```{r, eval=FALSE}
devtools::install_github("Bart6114/dimple")
```

# Chart Types

There is an example dataset ```sales``` available in the package that is used to generate the below examples.


```{r}
library(dimple)
head(sales[,1:5])
```

## Bar Charts

### Vertical Bar

```{r}
dimple(sales,
       xCategory="Month",
       xOrderRule="Date",
       yMeasure="Unit.Sales")
```

### Vertical Stacked Bar

```{r}
dimple(sales,
       xCategory="Month",
       xOrderRule="Date",
       yMeasure="Unit.Sales",
       series="Channel")
```

### Vertical 100% Bar

```{r}
dimple(sales,
       xCategory="Month",
       xOrderRule="Date",
       yPct="Unit.Sales",
       series="Channel")
```

### Vertical Grouped Bar

```{r}
dimple(sales,
       xCategory=c("Price.Tier", "Channel"),
       yMeasure="Unit.Sales")
```

### Vertical Stacked Grouped Bar

```{r}
dimple(sales,
       xCategory=c("Price.Tier", "Channel"),
       yMeasure="Unit.Sales",
       series="Owner",
       legend=TRUE)
```

### Vertical 100% Grouped Bar

```{r}
dimple(sales,
       xCategory=c("Price.Tier", "Channel"),
       yPct="Unit.Sales",
       series="Owner",
       legend=TRUE)
```

### Horizontal Bar

```{r}
dimple(sales,
       yCategory="Month",
       yOrderRule="Date",
       xMeasure="Unit.Sales")
```

### Horizontal Stacked Bar

```{r}
dimple(sales,
       yCategory="Month",
       yOrderRule="Date",
       xMeasure="Unit.Sales",
       series="Channel")
```

### Horizontal Stacked Bar

```{r}
dimple(sales,
       yCategory="Month",
       yOrderRule="Date",
       xPct="Unit.Sales",
       series="Channel")
```


### Block Matrix

```{r}
dimple(sales,
       xCategory=c("Channel", "Price.Tier"),
       yCategory="Owner",
       series="Price.Tier",
       legend=TRUE)
```

### Horizontal Floating Bars

```{r}
dimple(sales,
       xMeasure="Unit.Sales",
       yCategory="Month",
       yOrderRule="Date",
       series="Channel",
       stacked = FALSE,
       legend=TRUE)
```

### Floating Bars

```{r}
partial_data <-
  subset(sales, Month == "Dec-11")

dimple(partial_data,
       xMeasure="Price.Monthly.Change",
       yMeasure="Distribution.Monthly.Change",
       yOrderRule="Date",
       series=c("SKU","Channel"),
       stacked = FALSE, 
       legend=TRUE)
```

## Pie Charts

### Pie Chart

```{r}
dimple(sales,
       pMeasure="Unit.Sales",
       series="Owner",
       legend=TRUE, 
       chartType="pie")
```

### Pie Matrix

```{r}
dimple(sales, 
       xCategory="Price.Tier",
       yCategory="Pack.Size",
       pMeasure="Unit.Sales",
       series="Owner",
       legend=TRUE,
       chartType="pie",
       piesRadius = 25)
```

### Scatter Pie

```{r}
partial_data <-
  subset(sales, Date == "01/12/2012")

dimple(partial_data,
       xMeasure="Price.Monthly.Change",
       yMeasure="Unit.Sales.Monthly.Change",
       pMeasure="Operating.Profit",
       series=c("Owner","Channel"),
       legend=TRUE,
       chartType="pie",
       piesRadius = 20)
```

## Scatter Charts

### Scatter

```{r}
partial_data <-
  subset(sales, Date == "01/12/2012")

dimple(partial_data,
       xMeasure="Unit.Sales",
       yMeasure="Operating.Profit",
       series=c("SKU","Channel"),
       legend=TRUE,
       chartType="bubble")
```

### Vertical Lollipop

```{r}
dimple(sales,
       xCategory="Month",
       xOrderRule = "Date",
       yMeasure="Unit.Sales",
       series="Channel",
       legend=TRUE,
       chartType="bubble")
```

## Bubble Charts

### Bubble

```{r}
partial_data <-
  subset(sales, Date == "01/12/2012")

dimple(partial_data,
       xMeasure="Unit.Sales.Monthly.Change",
       yMeasure="Price.Monthly.Change",
       zMeasure="Operating.Profit",
       series=c("SKU","Channel"),
       legend=TRUE,
       chartType="bubble")
```

### Bubble Matrix

```{r}
dimple(sales,
       xCategory=c("Channel","Price.Tier"),
       yCategory="Owner",
       zMeasure="Distribution",
       series="Price.Tier",
       legend=TRUE,
       chartType="bubble",
       seriesAggregate = "max",
       zOverrideMax = 200)
```

## Area Charts

### Area

```{r}
dimple(sales,
       xCategory="Month",
       xOrderRule = "Date",
       yMeasure="Unit.Sales",
       chartType="area")
```

### Stacked Area

```{r}
partial_data <-
  subset(sales, Owner %in% c("Aperture","Black Mesa"))

dimple(partial_data,
       xCategory="Month",
       xOrderRule = "Date",
       yMeasure="Unit.Sales",
       series="Channel",
       chartType="area",
       legend=TRUE)
```

### 100% Stacked Area

```{r}
partial_data <-
  subset(sales, Owner %in% c("Aperture","Black Mesa"))

dimple(partial_data,
       xCategory="Month",
       xOrderRule = "Date",
       yPct="Unit.Sales",
       series="Channel", 
       chartType="area",
       legend=TRUE)
```

### Grouped Stacked Area

```{r}
partial_data <-
  subset(sales, Owner %in% c("Aperture","Black Mesa"))

dimple(partial_data,
       xCategory=c("Owner","Month"),
       xOrderRule = "Date",
       yMeasure="Unit.Sales", 
       series="SKU", 
       chartType="area", 
       legend=TRUE, 
       legendX=430, 
       legendY=20, 
       legendWidth=100, 
       legendHeight=300, 
       legendHorizontalAlign = "left",
       boundsX=70,
       boundsY=30, 
       boundsWidth=340, 
       boundsHeight=330,
       seriesLineWeight = 1, 
       seriesBarGap = 0.05)
```

## Line Charts

### Single Line

```{r}
partial_data <-
  subset(sales, Owner %in% c("Aperture", "Black Mesa"))
  
dimple(sales, 
       xCategory="Month",
       xOrderRule = "Date",
       yMeasure="Unit.Sales", 
       chartType="line")
```

### Multiple Line

```{r}
partial_data <-
  subset(sales, Owner %in% c("Aperture", "Black Mesa"))
  
dimple(partial_data,
       xCategory="Month", 
       xOrderRule = "Date", 
       yMeasure="Unit.Sales", 
       series="Channel",
       chartType="line")
```

### Grouped Single Line

```{r}
partial_data <-
  subset(sales, Owner %in% c("Aperture", "Black Mesa"))
  
dimple(partial_data, 
       xCategory=c("Owner", "Month"), 
       xGroupOrderRule = "Date", 
       yMeasure="Unit.Sales", series="Owner",
       chartType="line")
```

## Ring Charts

### Ring Chart

```{r}
dimple(sales,
       pMeasure="Unit.Sales",
       series="Owner",
       legend=TRUE, 
       chartType="pie",
       ringInnerRadius="50%")
```

### Grouped Lollipop Ring

```{r}
dimple(sales, 
       xCategory=c("Price.Tier","Channel"),
       yMeasure="Unit.Sales",
       pMeasure="Unit.Sales",
       series="Pack.Size",
       legend=TRUE, 
       chartType="pie",
       ringInnerRadius=20,
       ringOuterRadius=30)
```

## Step Charts

### Single Step Line

```{r}
partial_data <-
  subset(sales, Owner %in% c("Aperture", "Black Mesa"))

dimple(partial_data, 
       xCategory="Month",
       yMeasure="Unit.Sales",
       xOrderRule="Date",
       chartType="step")
```

### Multiple Step Line

```{r}
partial_data <-
  subset(sales, Owner %in% c("Aperture", "Black Mesa"))

dimple(partial_data, 
       xCategory="Month",
       yMeasure="Unit.Sales",
       xOrderRule="Date",
       chartType="step",
       series="Channel",
       legend=TRUE)
```

### Grouped Step Line

```{r}
partial_data <-
  subset(sales, Owner %in% c("Aperture", "Black Mesa"))

dimple(partial_data, 
       xCategory=c("Owner", "Month"),
       yMeasure="Unit.Sales",
       xOrderRule="Date",
       chartType="step",
       series="Owner",
       legend=TRUE,
       seriesBarGap = 0.05)
```

## Step Area Charts

### Single Step Area

```{r}
partial_data <-
  subset(sales, Owner %in% c("Aperture", "Black Mesa"))

dimple(partial_data, 
       xCategory="Month",
       yMeasure="Unit.Sales",
       xOrderRule="Date",
       chartType="steparea")
```

### Multiple Step Area

```{r}
partial_data <-
  subset(sales, Owner %in% c("Aperture", "Black Mesa"))

dimple(partial_data, 
       xCategory="Month",
       yMeasure="Unit.Sales",
       xOrderRule="Date",
       chartType="steparea",
       series="Channel",
       seriesLineWeight = 1,
       legend=TRUE)
```

### 100% Vertical Step Area

```{r}
partial_data <-
  subset(sales, Owner %in% c("Aperture", "Black Mesa"))

dimple(partial_data, 
       xPct="Unit.Sales",
       yCategory="Month",
       yOrderRule="Date",
       chartType="steparea",
       series="Channel",
       seriesLineWeight = 1,
       legend=TRUE)
```

# Shiny

You can also use ```dimple``` charts in ```shiny```. There is an example included in the package. Simply run ```dimple_shiny()```. Below you can see the content of the function.

```{r}
dimple_shiny
```

